#Previa para que funcione Hardhat y chainlink se pueda conectar

Arrancar desde ~/blockchain/tfm/smart-contracts

npx hardhat node --hostname 0.0.0.0




comprobar  curl http://127.0.0.1:8545/ desde el anfitrion o 

desde dentro del contenedor 

docker exec -it -u root e31ecd99b6be bash


curl http://host.docker.internal:8545
# o usando la IP del host
curl http://172.17.0.1:8545

# si no va
#para probar conectividad, abrir session


apt update
apt install -y telnet

telnet 172.17.0.1 22
telnet 172.17.0.1 8545





@ Compose 
docker compose build

Si quieres forzar reconstrucción ignorando caché:

docker compose build --no-cache

docker compose up

@Para borrar servicios eliminados añadir

 --remove-orphans

# en una sola orden buiil + up
docker-compose up --build

# dettached mode
docker compose up -d

docker compose ps

docker compose logs -f

docker compose logs -f ipfs-fastapi

Detener contenedores sin borrar volúmenes:

docker compose stop

Detener y borrar contenedores, redes y volúmenes asociados:

docker compose down

docker compose down -v

# Conectar con BBDD
psql -h localhost -U chainlink -d chainlink

#up selected services
docker compose -f 'docker-compose.yml' up   'postgres' 'chainlink' 



docker compose -f 'docker-compose.yml' up   'ipfs' 'ipfs-fastapi' 'generate-asertions' 'validate-asertions' 'zookeeper' 'kafka' 'control-center' 'mongodb'  'news-handler'


docker compose -f 'docker-compose.yml' up    'zookeeper' 'kafka'  'mongodb'  'ipfs' 'ipfs-fastapi' 'generate-asertions' 'validate-asertions'